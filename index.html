<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>rlist by renkun-ken</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">rlist</h1>
      <h2 class="project-tagline">A Toolbox for Non-tabular Data Manipulation</h2>
      <a href="https://github.com/renkun-ken/rlist" class="btn">View on GitHub</a>
      <a href="https://github.com/renkun-ken/rlist/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/renkun-ken/rlist/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="rlist" class="anchor" href="#rlist" aria-hidden="true"><span class="octicon octicon-link"></span></a>rlist</h1>

<p><a href="https://travis-ci.org/renkun-ken/rlist"><img src="https://travis-ci.org/renkun-ken/rlist.png?branch=master" alt="Build Status"></a> <a href="https://coveralls.io/r/renkun-ken/rlist"><img src="https://coveralls.io/repos/renkun-ken/rlist/badge.svg" alt="Coverage Status"></a> <a href="http://cran.rstudio.com/web/packages/rlist"><img src="http://www.r-pkg.org/badges/version/rlist" alt="CRAN Version"></a></p>

<p>rlist is a set of tools for working with list objects. Its goal is to make it easier to work with lists by providing a wide range of functions that operate on non-tabular data stored in them.</p>

<p>This package supports list mapping, filtering, grouping, sorting, updating, searching, file input/output, and many other functions. Most functions in the package are designed to be pipeline friendly so that data processing with lists can be chained.</p>

<p><strong><a href="http://renkun.me/rlist-tutorial">rlist Tutorial</a> is a highly recommended complete guide to rlist.</strong></p>

<p>This document is also translated into  <a href="https://github.com/renkun-ken/rlist/blob/master/README.ja.md">日本語</a> (by <a href="https://github.com/teramonagi">@teramonagi</a>).</p>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h2>

<p>Install the latest version from GitHub:</p>

<div class="highlight highlight-r"><pre><span class="pl-e">devtools</span><span class="pl-k">::</span>install_github(<span class="pl-s"><span class="pl-pds">"</span>renkun-ken/rlist<span class="pl-pds">"</span></span>)</pre></div>

<p>Install from <a href="http://cran.r-project.org/web/packages/rlist/">CRAN</a>:</p>

<div class="highlight highlight-r"><pre>install.packages(<span class="pl-s"><span class="pl-pds">"</span>rlist<span class="pl-pds">"</span></span>)</pre></div>

<h2>
<a id="motivation" class="anchor" href="#motivation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Motivation</h2>

<p>In R, there are numerous powerful tools to deal with structured data stored in tabular form such as data frame. However, a variety of data is non-tabular: different records may have different fields; for each field they may have different number of values. </p>

<p>It is hard or no longer straightforward to store such data in data frame, but the <code>list</code> object in R is flexible enough to represent such records of diversity. rlist is a toolbox to deal with non-structured data stored in <code>list</code> objects, providing a collection of high-level functions which are pipeline friendly.</p>

<h2>
<a id="getting-started" class="anchor" href="#getting-started" aria-hidden="true"><span class="octicon octicon-link"></span></a>Getting started</h2>

<p>Suppose we have a list of developers, each of whom has a name, age, a few interests, a list of programming languages they use and the number of years they have been using them.</p>

<div class="highlight highlight-r"><pre>library(<span class="pl-smi">rlist</span>)
<span class="pl-smi">devs</span> <span class="pl-k">&lt;-</span> 
  <span class="pl-k">list</span>(
    <span class="pl-v">p1</span><span class="pl-k">=</span><span class="pl-k">list</span>(<span class="pl-v">name</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>Ken<span class="pl-pds">"</span></span>,<span class="pl-v">age</span><span class="pl-k">=</span><span class="pl-c1">24</span>,
      <span class="pl-v">interest</span><span class="pl-k">=</span>c(<span class="pl-s"><span class="pl-pds">"</span>reading<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>music<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>movies<span class="pl-pds">"</span></span>),
      <span class="pl-v">lang</span><span class="pl-k">=</span><span class="pl-k">list</span>(<span class="pl-v">r</span><span class="pl-k">=</span><span class="pl-c1">2</span>,<span class="pl-v">csharp</span><span class="pl-k">=</span><span class="pl-c1">4</span>)),
    <span class="pl-v">p2</span><span class="pl-k">=</span><span class="pl-k">list</span>(<span class="pl-v">name</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>James<span class="pl-pds">"</span></span>,<span class="pl-v">age</span><span class="pl-k">=</span><span class="pl-c1">25</span>,
      <span class="pl-v">interest</span><span class="pl-k">=</span>c(<span class="pl-s"><span class="pl-pds">"</span>sports<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>music<span class="pl-pds">"</span></span>),
      <span class="pl-v">lang</span><span class="pl-k">=</span><span class="pl-k">list</span>(<span class="pl-v">r</span><span class="pl-k">=</span><span class="pl-c1">3</span>,<span class="pl-v">java</span><span class="pl-k">=</span><span class="pl-c1">2</span>,<span class="pl-v">cpp</span><span class="pl-k">=</span><span class="pl-c1">5</span>)),
    <span class="pl-v">p3</span><span class="pl-k">=</span><span class="pl-k">list</span>(<span class="pl-v">name</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>Penny<span class="pl-pds">"</span></span>,<span class="pl-v">age</span><span class="pl-k">=</span><span class="pl-c1">24</span>,
      <span class="pl-v">interest</span><span class="pl-k">=</span>c(<span class="pl-s"><span class="pl-pds">"</span>movies<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>reading<span class="pl-pds">"</span></span>),
      <span class="pl-v">lang</span><span class="pl-k">=</span><span class="pl-k">list</span>(<span class="pl-v">r</span><span class="pl-k">=</span><span class="pl-c1">1</span>,<span class="pl-v">cpp</span><span class="pl-k">=</span><span class="pl-c1">4</span>,<span class="pl-v">python</span><span class="pl-k">=</span><span class="pl-c1">2</span>)))</pre></div>

<p>This type of data is non-relational since it does not well fit the shape of a data frame,  yet it can be easily stored in JSON or YAML format. In R, list objects are flexible enough to represent a wide range of non-relational datasets like this. This package provides a wide range of functions to query and manipulate this type of data.</p>

<p>The following examples use <code>str()</code> to show the structure of the output.</p>

<h3>
<a id="filtering" class="anchor" href="#filtering" aria-hidden="true"><span class="octicon octicon-link"></span></a>Filtering</h3>

<p>Filter those who like music and has been using R for more than 3 years.</p>

<div class="highlight highlight-r"><pre>str( list.filter(<span class="pl-smi">devs</span>, <span class="pl-s"><span class="pl-pds">"</span>music<span class="pl-pds">"</span></span> <span class="pl-k">%in%</span> <span class="pl-smi">interest</span> <span class="pl-k">&amp;</span> <span class="pl-smi">lang</span><span class="pl-k">$</span><span class="pl-smi">r</span> <span class="pl-k">&gt;</span><span class="pl-k">=</span> <span class="pl-c1">3</span>) )</pre></div>

<pre><code>List of 1
 $ p2:List of 4
  ..$ name    : chr "James"
  ..$ age     : num 25
  ..$ interest: chr [1:2] "sports" "music"
  ..$ lang    :List of 3
  .. ..$ r   : num 3
  .. ..$ java: num 2
  .. ..$ cpp : num 5
</code></pre>

<h3>
<a id="selecting" class="anchor" href="#selecting" aria-hidden="true"><span class="octicon octicon-link"></span></a>Selecting</h3>

<p>Select their names and ages.</p>

<div class="highlight highlight-r"><pre>str( list.select(<span class="pl-smi">devs</span>, <span class="pl-smi">name</span>, <span class="pl-smi">age</span>) )</pre></div>

<pre><code>List of 3
 $ p1:List of 2
  ..$ name: chr "Ken"
  ..$ age : num 24
 $ p2:List of 2
  ..$ name: chr "James"
  ..$ age : num 25
 $ p3:List of 2
  ..$ name: chr "Penny"
  ..$ age : num 24
</code></pre>

<h3>
<a id="mapping" class="anchor" href="#mapping" aria-hidden="true"><span class="octicon octicon-link"></span></a>Mapping</h3>

<p>Map each of them to the number of interests.</p>

<div class="highlight highlight-r"><pre>str( list.map(<span class="pl-smi">devs</span>, length(<span class="pl-smi">interest</span>)) )</pre></div>

<pre><code>List of 3
 $ p1: int 3
 $ p2: int 2
 $ p3: int 2
</code></pre>

<h3>
<a id="more-functions" class="anchor" href="#more-functions" aria-hidden="true"><span class="octicon octicon-link"></span></a>More functions</h3>

<p>In addition to these basic functions, rlist also supports various types of grouping, joining, searching, sorting, updating, etc. For the introduction to more functionality, please go through the <a href="http://renkun.me/rlist-tutorial">rlist Tutorial</a>.</p>

<h2>
<a id="lambda-expression" class="anchor" href="#lambda-expression" aria-hidden="true"><span class="octicon octicon-link"></span></a>Lambda expression</h2>

<p>In this package, almost all functions that work with expressions accept the following forms of lambda expressions:</p>

<ul>
<li>Implicit lambda expression: <code>expression</code>
</li>
<li>Univariate lambda expressions: 

<ul>
<li><code>x ~ expression</code></li>
<li><code>f(x) ~ expression</code></li>
</ul>
</li>
<li>Multivariate lambda expressions:

<ul>
<li><code>f(x,i) ~ expression</code></li>
<li><code>f(x,i,name) ~ expression</code></li>
</ul>
</li>
</ul>

<p>where <code>x</code> refers to the list member itself, <code>i</code> denotes the index, <code>name</code> denotes the name. If the symbols are not explicitly declared, <code>.</code>, <code>.i</code> and <code>.name</code> will by default be used to represent them, respectively.</p>

<div class="highlight highlight-r"><pre><span class="pl-smi">nums</span> <span class="pl-k">&lt;-</span> <span class="pl-k">list</span>(<span class="pl-v">a</span><span class="pl-k">=</span>c(<span class="pl-c1">1</span>,<span class="pl-c1">2</span>,<span class="pl-c1">3</span>),<span class="pl-v">b</span><span class="pl-k">=</span>c(<span class="pl-c1">2</span>,<span class="pl-c1">3</span>,<span class="pl-c1">4</span>),<span class="pl-v">c</span><span class="pl-k">=</span>c(<span class="pl-c1">3</span>,<span class="pl-c1">4</span>,<span class="pl-c1">5</span>))
list.map(<span class="pl-smi">nums</span>, c(<span class="pl-v">min</span><span class="pl-k">=</span>min(.),<span class="pl-v">max</span><span class="pl-k">=</span>max(.)))
list.filter(<span class="pl-smi">nums</span>, <span class="pl-smi">x</span> <span class="pl-k">~</span> mean(<span class="pl-smi">x</span>)<span class="pl-k">&gt;</span><span class="pl-k">=</span><span class="pl-c1">3</span>)
list.map(<span class="pl-smi">nums</span>, f(<span class="pl-smi">x</span>,<span class="pl-smi">i</span>) <span class="pl-k">~</span> sum(<span class="pl-smi">x</span>,<span class="pl-smi">i</span>))</pre></div>

<h2>
<a id="using-pipeline" class="anchor" href="#using-pipeline" aria-hidden="true"><span class="octicon octicon-link"></span></a>Using pipeline</h2>

<h3>
<a id="working-with-piper" class="anchor" href="#working-with-piper" aria-hidden="true"><span class="octicon octicon-link"></span></a>Working with pipeR</h3>

<p>Query the name of each developer who likes music and uses R, and put the results in a data frame.</p>

<div class="highlight highlight-r"><pre>library(<span class="pl-smi">pipeR</span>)
<span class="pl-smi">devs</span> %<span class="pl-k">&gt;&gt;</span>% 
  list.filter(<span class="pl-s"><span class="pl-pds">"</span>music<span class="pl-pds">"</span></span> <span class="pl-k">%in%</span> <span class="pl-smi">interest</span> <span class="pl-k">&amp;</span> <span class="pl-s"><span class="pl-pds">"</span>r<span class="pl-pds">"</span></span> <span class="pl-k">%in%</span> names(<span class="pl-smi">lang</span>)) %<span class="pl-k">&gt;&gt;</span>%
  list.select(<span class="pl-smi">name</span>,<span class="pl-smi">age</span>) %<span class="pl-k">&gt;&gt;</span>%
  <span class="pl-smi">list.stack</span></pre></div>

<pre><code>   name age
1   Ken  24
2 James  25
</code></pre>

<p>The example above uses <code>pipeR</code>(<a href="http://renkun.me/pipeR/">http://renkun.me/pipeR/</a>) package for pipeline operator <code>%&gt;&gt;%</code> that chains commands in a fluent style.</p>

<h3>
<a id="list-environment" class="anchor" href="#list-environment" aria-hidden="true"><span class="octicon octicon-link"></span></a>List environment</h3>

<p><code>List()</code> function wraps a list within an environment where almost all list functions are defined. Here is the List-environment version of the previous example.</p>

<div class="highlight highlight-r"><pre><span class="pl-smi">ldevs</span> <span class="pl-k">&lt;-</span> List(<span class="pl-smi">devs</span>)
<span class="pl-smi">ldevs</span><span class="pl-k">$</span>filter(<span class="pl-s"><span class="pl-pds">"</span>music<span class="pl-pds">"</span></span> <span class="pl-k">%in%</span> <span class="pl-smi">interest</span> <span class="pl-k">&amp;</span> <span class="pl-s"><span class="pl-pds">"</span>r<span class="pl-pds">"</span></span> <span class="pl-k">%in%</span> names(<span class="pl-smi">lang</span>))<span class="pl-k">$</span>
  select(<span class="pl-smi">name</span>,<span class="pl-smi">age</span>)<span class="pl-k">$</span>
  stack()<span class="pl-k">$</span>
  <span class="pl-smi">data</span></pre></div>

<pre><code>   name age
1   Ken  24
2 James  25
</code></pre>

<h2>
<a id="help-overview" class="anchor" href="#help-overview" aria-hidden="true"><span class="octicon octicon-link"></span></a>Help overview</h2>

<div class="highlight highlight-r"><pre>help(<span class="pl-v">package</span> <span class="pl-k">=</span> <span class="pl-smi">rlist</span>)</pre></div>

<p>or view the documentation on <a href="http://cran.r-project.org/web/packages/rlist/rlist.pdf">CRAN</a></p>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>License</h2>

<p>This package is under <a href="http://opensource.org/licenses/MIT">MIT License</a>.</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/renkun-ken/rlist">rlist</a> is maintained by <a href="https://github.com/renkun-ken">renkun-ken</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

            <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-47159422-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>

